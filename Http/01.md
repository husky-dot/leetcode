## HTTP/1.1 主要变更点

1. 增加了 Put delete 等新方法
2. 增加了缓存管理和控制
3. 明确了连接管理，允许持久连接
4. 允许响应数据分块，利于传输大文件
5. 强制要求 Host 头，让互联网主机托管成为可能


## HTPP/2.2 主要特点
1.二进制协议，不再是纯文本
2.可发起多个请求，废弃了 1.1的管道
3.使用专用算法压缩头部，减少数据传输量
4.允许服务器主动向客户端推送数据
5.增强了安全性，"事实上"要求加密通信。

小结：

1.HTTP协议始于三十年前蒂姆伯纳斯-李的一篇论文
2.HTTP/0.9是个简单的文本协议，只能获取文本资源
3.HTTP/1.0 确立了大部分现在使用的技术，但它不是正式标准。
4.HTTP/1.1 是目前互联网上使用最广泛的协议，功能也非常完善
5.HTTP/2 基于 Google 的 SPDY 协议，注重性能改善，但还未来普及
6.HTTP/3 基于 Google 的 QUIC 协议，是将来的发展方向。


**什么是 HTTP**

HTTP 是一个在计算机世界里专门在两点之间传输文字，图片，音频，视频等超文本数据的约定和规范。


**解释一下在浏览器里面点击页面链接后发生了什么**

浏览器判断是不是ip地址，不是就进行域名解析，依次通过浏览器缓存，系统缓存，host文件，还是没找到的请求 DNS 服务器获取 IP 解析(解析失败的浏览器尝试换别的 DNS 服务器，最终失败的进入错误页面)，有可能获取到 CDN 服务器 IP 地址，访问CDN 时先看是否缓存了，缓存了响应用户，无法缓存，缓存失效或者无缓存，回源到服务器。经过防火墙外网网管路由到 nginx 接入层。ng缓存中存在的直接返回，不存在的负载到 web 服务器。 web服务器接受到请求后处理路径不存在 404。存在的返回结果(服务器中也会有 redis,ehcache（堆内外缓存）,disk 等缓存策略)，原路返回， CDN 加入缓存响应用户。


**安全与幂等**

所谓的安全是指请求方法不会破坏服务器上的资源，即不会对服务器上的资源造成实质的修改。

按照这个定义，只有Get 和 HEAD 方法是安全的，因为它们是只读操作，只要服务器不故意曲解请求方法的处理方式，无论GET和 HEAD 操作多少次，服务器上的数据都 是安全的。

幂等实际上是一个数学用语，被借用到  HTTP 协议里面，意思是多次执行相同的操作，结果也是相同的，即多次“幂”后结果相等。


**什么是 URI**

URI 是用来唯一标记服务器上资源的一个字符串，通常也称为 URL。

URI 通常由 scheme,host:port, path, query 四个部门组成，有的可以省略。

scheme 叫方案名或者 协议名，表示资源应该使用哪个协议来访问。

host:port 表示资源所在的主机名和端口号

path 标记资源所在的位置。

query 表示对资源附加的额外要求。



#### 响应状态码怎么用

2xx 类状态码表示成功，常用的有 200，204， 206

200 ok 是最常见的成功状态码，表示一切正常。

204 No Content 是另一个很常见的成功状态码，它的含义与 "200 OK" 基本相同，但响应头后没有 body 数据。所以对于  Web 服务器来产，正确区分 200 和 204 是很必要的。


206 partial Content 是 HTTP 分块下载或断点续传的基础，在客户端发送"范围请求"，要求获取资源的部分数据时出现，它与200一样，也是服务器成功处理了请求，但 body 里面的数据不是资源的全部，而是其中一部分。

206 通常还会伴随着字段 Content-Range 表示响应报文 body 数据的具体范围，供客户端确认。

3xx 类状态码表示重新向，常用的有 301, 302, 304。


301 Moved Permanently 永久重定向，含义是此次请求的资源已经不存在了，需要改用新的 URI 再次访问。

302 是临时重定向。


304 No Modified 用于 if-modified-since 等条件请求，表示资源未修改，用于缓存控制。



4xx 类状态码表示客户端错误，常用的有 400, 403, 404.


400 Bad Request 是一个通用的错误码，表示请求报文有错误。

403 Forbidden 实际上不是客户端的请求出错，而是表示服务器禁止访问资源。

404 Nod Found 资源在本服务器上未找到，所以无法提供给客户端。


5xx 类状态码表示服务器错误，常用的有 500, 501, 502, 503。


500 与 400 类似，也是一个通用的错误码，服务器究竟发生了什么错误我们是不知道 了



501 Not Implemented 表示客户端请求功能还不支持。


502 Bad Gateway 通常是服务器作为网关或者代理时返回的错误码。


503 Service Unavailable 表示服务器当前很忙，暂时无法响应服务，我们上网有时候遇到网络服务下忙，请稍后 重的状态码就是 503。


#### HTTP 有哪些特点？

1. HTTP 是灵活可以扩展的，可以任意添加头字段实现任意功能。

2. HTTP 是可靠传输协议，基于 TCP/IP 协议 "尽量"保证数据的送达。

3. HTTP 是应用层协议，比 FTP， SSH 等更通用功能更多，能够传输任意数据。

4. HTTP 使用了请求-应答模式，客户端主动发起请求，服务器被动回复请求。

5. HTTP 本质上是无状态的，每个请求都是互相独立，毫无关联的，协议不要求客户端或服务器记录请求相关的信息。


HTTP 有哪些优点 和缺点

1 .HTTP 最大的优点是简单，灵活和易于扩展

2. HTTP 拥有成熟的软硬件环境，应用的非常广泛，是互联网的基础设施。

3. HTTP 是无状态的，可以轻松实现集群化，扩展性能，但有时也需要用 Cookie技术实现有状态。
  
4. HTTP 是明文传输，数据完全肉眼可见，能够方便地研究分析，但也容易被窃听。

5. HTTP 是不安全的，无法验证通信双方的身份，也不能判断报文是否被窜改。

6. HTTP 的性能不算差，但不完全适应现在的互联网，还有很大的提升空间。







